"use strict";(self.webpackChunksecurecapitaapp=self.webpackChunksecurecapitaapp||[]).push([[751],{6146:(V,h,p)=>{p.r(h),p.d(h,{UserModule:()=>D});var L=p(4466),v=p(1020),A=p(648),U=p(4605),Z=p(1135),d=p(4004),r=p(8675),c=p(262),g=p(9646),i=p(2759),f=(()=>{return(n=f||(f={})).LOGIN_ATTEMPT="LOGIN_ATTEMPT",n.LOGIN_ATTEMPT_FAILURE="LOGIN_ATTEMPT_FAILURE",n.LOGIN_ATTEMPT_SUCCESS="LOGIN_ATTEMPT_SUCCESS",n.PROFILE_UPDATE="PROFILE_UPDATE",n.PROFILE_PICTURE_UPDATE="PROFILE_PICTURE_UPDATE",n.ROLE_UPDATE="ROLE_UPDATE",n.ACCOUNT_SETTINGS_UPDATE="ACCOUNT_SETTINGS_UPDATE",n.PASSWORD_UPDATE="PASSWORD_UPDATE",n.MFA_UPDATE="MFA_UPDATE",f;var n})(),a=p(8256),x=p(8452),m=p(6895),o=p(433),T=p(4008);function S(n,l){1&n&&a._UZ(0,"span",86)}function O(n,l){1&n&&(a.TgZ(0,"span"),a._uU(1,"Loading..."),a.qZA())}function E(n,l){1&n&&(a.TgZ(0,"span"),a._uU(1,"Update"),a.qZA())}function y(n,l){1&n&&a._UZ(0,"span",86)}function M(n,l){1&n&&(a.TgZ(0,"span"),a._uU(1,"Loading..."),a.qZA())}function N(n,l){1&n&&(a.TgZ(0,"span"),a._uU(1,"Update"),a.qZA())}function C(n,l){if(1&n&&(a.TgZ(0,"option",87),a.ALo(1,"async"),a._uU(2),a.qZA()),2&n){const t=l.$implicit,u=a.oxw().ngIf,e=a.oxw();a.Q6J("selected",(null==u||null==u.appData||null==u.appData.data||null==u.appData.data.user?null:u.appData.data.user.roleName)===t.name)("disabled",!("ROLE_SYSADMIN"===(null==u||null==u.appData||null==u.appData.data||null==u.appData.data.user?null:u.appData.data.user.roleName)||"ROLE_ADMIN"===(null==u||null==u.appData||null==u.appData.data||null==u.appData.data.user?null:u.appData.data.user.roleName))||a.lcZ(1,4,e.isLoading$))("ngValue",t.name),a.xp6(2),a.Oqu(t.name)}}function P(n,l){1&n&&a._UZ(0,"input",88),2&n&&a.Q6J("value",l.$implicit)("disabled",!0)}function q(n,l){1&n&&a._UZ(0,"span",86)}function I(n,l){1&n&&(a.TgZ(0,"span"),a._uU(1,"Loading..."),a.qZA())}function J(n,l){1&n&&(a.TgZ(0,"span"),a._uU(1,"Update"),a.qZA())}function R(n,l){1&n&&a._UZ(0,"span",86)}function j(n,l){1&n&&(a.TgZ(0,"span"),a._uU(1,"Loading..."),a.qZA())}function w(n,l){1&n&&(a.TgZ(0,"span"),a._uU(1,"Update"),a.qZA())}function $(n,l){1&n&&(a.TgZ(0,"span",89),a._uU(1,"Enabled"),a.qZA())}function Q(n,l){1&n&&(a.TgZ(0,"span",90),a._uU(1,"Disabled"),a.qZA())}function F(n,l){1&n&&a._UZ(0,"span",86)}const k=function(n,l,t,u,e,s,z,W,X){return[n,l,t,u,e,s,z,W,X]};function Y(n,l){if(1&n&&(a.TgZ(0,"tr")(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.ALo(7,"date"),a.qZA(),a.TgZ(8,"td")(9,"span",99),a._uU(10),a.qZA()(),a.TgZ(11,"td"),a._uU(12),a.qZA()()),2&n){const t=l.$implicit,u=a.oxw(3);a.xp6(2),a.Oqu(t.device),a.xp6(2),a.Oqu(t.ipAddress),a.xp6(2),a.Oqu(a.xi3(7,6,t.createdAt,"MMMM d, y, h:mm a")),a.xp6(3),a.Q6J("ngClass",a.rFY(9,k,[t.type===u.EventType.LOGIN_ATTEMPT_SUCCESS?"bg-success":"",t.type===u.EventType.LOGIN_ATTEMPT?"bg-warning":"",t.type===u.EventType.PROFILE_UPDATE?"bg-primary":"",t.type===u.EventType.LOGIN_ATTEMPT_FAILURE?"bg-danger":"",t.type===u.EventType.PROFILE_PICTURE_UPDATE?"bg-primary":"",t.type===u.EventType.ROLE_UPDATE?"bg-info":"",t.type===u.EventType.ACCOUNT_SETTINGS_UPDATE?"bg-warning":"",t.type===u.EventType.PASSWORD_UPDATE?"bg-warning":"",t.type===u.EventType.MFA_UPDATE?"bg-info":""])),a.xp6(1),a.hij(" ",t.type," "),a.xp6(2),a.Oqu(t.description)}}function G(n,l){if(1&n&&(a.TgZ(0,"div",38)(1,"div",91)(2,"div",92)(3,"div",93)(4,"h5",94),a._uU(5,"Account Activities"),a.qZA(),a.TgZ(6,"h6",95),a._uU(7,"Latest activities on your account. "),a.qZA(),a.TgZ(8,"table",96)(9,"thead")(10,"tr")(11,"th",97),a._uU(12,"Device"),a.qZA(),a.TgZ(13,"th",97),a._uU(14,"IP Address"),a.qZA(),a.TgZ(15,"th",97),a._uU(16,"Date"),a.qZA(),a.TgZ(17,"th",97),a._uU(18,"Type"),a.qZA(),a.TgZ(19,"th",97),a._uU(20,"Description"),a.qZA()()(),a.TgZ(21,"tbody"),a.YNc(22,Y,13,19,"tr",98),a.qZA()()()()()()),2&n){const t=a.oxw().ngIf;a.xp6(22),a.Q6J("ngForOf",null==t||null==t.appData||null==t.appData.data?null:t.appData.data.events)}}const K=function(){return["/"]};function H(n,l){if(1&n){const t=a.EpF();a.ynx(0)(1),a._UZ(2,"app-navbar",4),a.TgZ(3,"section")(4,"div",5)(5,"nav",6)(6,"ol",7)(7,"li",8)(8,"a",9),a._uU(9,"Home"),a.qZA()(),a.TgZ(10,"li",10),a._uU(11," Users "),a.qZA(),a.TgZ(12,"li",11),a._uU(13),a.qZA()()(),a.TgZ(14,"div",12)(15,"div",13)(16,"div",14)(17,"div",15)(18,"span",16),a._UZ(19,"img",17),a.TgZ(20,"i",18),a.NdJ("click",function(){a.CHM(t),a.oxw();const e=a.MAs(4);return a.KtG(e.click())}),a.qZA()()(),a.TgZ(21,"h4",19),a._uU(22),a.qZA(),a.TgZ(23,"span",20),a._uU(24),a.ALo(25,"date"),a.qZA()(),a.TgZ(26,"div",21)(27,"a",22),a._UZ(28,"i",23),a._uU(29," Profile "),a.qZA(),a.TgZ(30,"a",24),a._UZ(31,"i",25),a._uU(32," Password "),a.qZA(),a.TgZ(33,"a",26),a._UZ(34,"i",27),a._uU(35," Authorization "),a.qZA(),a.TgZ(36,"a",28),a._UZ(37,"i",29),a._uU(38," Account "),a.qZA(),a.TgZ(39,"a",30),a._UZ(40,"i",31),a._uU(41," Authentication "),a.qZA()()(),a.TgZ(42,"div",32)(43,"div",33)(44,"h3",34),a._uU(45,"Profile Settings"),a.qZA(),a.TgZ(46,"form",35,36),a.NdJ("ngSubmit",function(){a.CHM(t);const e=a.MAs(47),s=a.oxw();return a.KtG(s.updateProfile(e))}),a._UZ(48,"input",37),a.TgZ(49,"div",38)(50,"div",39)(51,"div",40)(52,"label"),a._uU(53,"First Name"),a.qZA(),a._UZ(54,"input",41),a.ALo(55,"async"),a.ALo(56,"async"),a.qZA()(),a.TgZ(57,"div",39)(58,"div",40)(59,"label"),a._uU(60,"Last Name"),a.qZA(),a._UZ(61,"input",42),a.ALo(62,"async"),a.qZA()(),a.TgZ(63,"div",39)(64,"div",40)(65,"label",43),a._uU(66,"Email"),a.qZA(),a._UZ(67,"input",44),a.ALo(68,"async"),a.qZA()(),a.TgZ(69,"div",39)(70,"div",40)(71,"label"),a._uU(72,"Phone"),a.qZA(),a._UZ(73,"input",45),a.ALo(74,"async"),a.qZA()(),a.TgZ(75,"div",39)(76,"div",40)(77,"label"),a._uU(78,"Address"),a.qZA(),a._UZ(79,"input",46),a.ALo(80,"async"),a.qZA()(),a.TgZ(81,"div",39)(82,"div",40)(83,"label"),a._uU(84,"Job Title"),a.qZA(),a._UZ(85,"input",47),a.ALo(86,"async"),a.qZA()(),a.TgZ(87,"div",48)(88,"div",40)(89,"label"),a._uU(90,"Bio"),a.qZA(),a._UZ(91,"textarea",49),a.ALo(92,"async"),a.qZA()()(),a.TgZ(93,"div")(94,"button",50),a.ALo(95,"async"),a.YNc(96,S,1,0,"span",51),a.ALo(97,"async"),a.YNc(98,O,2,0,"span",0),a.ALo(99,"async"),a.YNc(100,E,2,0,"span",0),a.ALo(101,"async"),a.qZA()()()(),a.TgZ(102,"div",52)(103,"h3",34),a._uU(104,"Password Settings"),a.qZA(),a.TgZ(105,"form",35,53),a.NdJ("ngSubmit",function(){a.CHM(t);const e=a.MAs(106),s=a.oxw();return a.KtG(s.updatePassword(e))}),a.TgZ(107,"div",38)(108,"div",39)(109,"div",40)(110,"label"),a._uU(111,"Current password"),a.qZA(),a._UZ(112,"input",54),a.ALo(113,"async"),a.qZA()()(),a.TgZ(114,"div",38)(115,"div",39)(116,"div",40)(117,"label"),a._uU(118,"New password"),a.qZA(),a._UZ(119,"input",55),a.ALo(120,"async"),a.qZA()(),a.TgZ(121,"div",39)(122,"div",40)(123,"label"),a._uU(124,"Confirm new password"),a.qZA(),a._UZ(125,"input",56),a.ALo(126,"async"),a.qZA()()(),a.TgZ(127,"div")(128,"button",50),a.ALo(129,"async"),a.YNc(130,y,1,0,"span",51),a.ALo(131,"async"),a.YNc(132,M,2,0,"span",0),a.ALo(133,"async"),a.YNc(134,N,2,0,"span",0),a.ALo(135,"async"),a.qZA()()()(),a.TgZ(136,"div",57)(137,"h3",34),a._uU(138,"Authorization Settings"),a.qZA(),a.TgZ(139,"form",35,58),a.NdJ("ngSubmit",function(){a.CHM(t);const e=a.MAs(140),s=a.oxw();return a.KtG(s.updateRole(e))}),a.TgZ(141,"div",38)(142,"div",39)(143,"div",40)(144,"label",59),a._uU(145,"Role Name"),a.qZA(),a.TgZ(146,"select",60),a.ALo(147,"async"),a.YNc(148,C,3,6,"option",61),a.qZA()()(),a.TgZ(149,"div",39)(150,"div",40)(151,"label",59),a._uU(152,"Role Permissions"),a.qZA(),a.YNc(153,P,1,2,"input",62),a.qZA()()(),a.TgZ(154,"div")(155,"button",50),a.ALo(156,"async"),a.YNc(157,q,1,0,"span",51),a.ALo(158,"async"),a.YNc(159,I,2,0,"span",0),a.ALo(160,"async"),a.YNc(161,J,2,0,"span",0),a.ALo(162,"async"),a.qZA()()()(),a.TgZ(163,"div",63)(164,"h3",34),a._uU(165,"Account Settings"),a.qZA(),a.TgZ(166,"form",35,64),a.NdJ("ngSubmit",function(){a.CHM(t);const e=a.MAs(167),s=a.oxw();return a.KtG(s.updateAccountSettings(e))}),a._UZ(168,"input",65),a.TgZ(169,"div",38)(170,"div",39)(171,"div",40)(172,"div",66),a._UZ(173,"input",67),a.ALo(174,"async"),a.TgZ(175,"label",68),a._uU(176," Account Active "),a.qZA()(),a.TgZ(177,"div",66),a._UZ(178,"input",69),a.ALo(179,"async"),a.TgZ(180,"label",70),a._uU(181," Account Unlocked "),a.qZA()()()()(),a.TgZ(182,"div")(183,"button",50),a.ALo(184,"async"),a.YNc(185,R,1,0,"span",51),a.ALo(186,"async"),a.YNc(187,j,2,0,"span",0),a.ALo(188,"async"),a.YNc(189,w,2,0,"span",0),a.ALo(190,"async"),a.qZA()()()(),a.TgZ(191,"div",71)(192,"h3",34),a._uU(193,"Authentication Settings"),a.qZA(),a.TgZ(194,"p"),a._uU(195,"These settings help keep your account more secure."),a.qZA(),a.TgZ(196,"div",72)(197,"div",73)(198,"div",74)(199,"div",75)(200,"strong",76),a._uU(201,"Multi-Factor Authentication"),a.qZA(),a.YNc(202,$,2,0,"span",77),a.YNc(203,Q,2,0,"span",78),a.TgZ(204,"p",79),a._uU(205,"Set up Multi-factor Authentication (MFA) help keep your account more secure"),a.qZA()(),a.TgZ(206,"div",80)(207,"button",81),a.NdJ("click",function(){a.CHM(t);const e=a.oxw();return a.KtG(e.toggleMfa())}),a.ALo(208,"async"),a._uU(209),a.YNc(210,F,1,0,"span",51),a.ALo(211,"async"),a.qZA()()()(),a.TgZ(212,"div",73)(213,"div",74)(214,"div",75)(215,"strong",76),a._uU(216,"Activity Logs"),a.qZA(),a.TgZ(217,"p",79),a._uU(218,"Show the latst activites on your account"),a.qZA()(),a.TgZ(219,"div",80)(220,"div",82)(221,"input",83),a.NdJ("change",function(){a.CHM(t);const e=a.oxw();return a.KtG(e.toggleLogs())}),a.ALo(222,"async"),a.ALo(223,"async"),a.qZA(),a._UZ(224,"span",84),a.qZA()()()()()()()(),a.YNc(225,G,23,1,"div",85),a.ALo(226,"async"),a.qZA()(),a.BQk()()}if(2&n){const t=l.ngIf,u=a.MAs(106),e=a.oxw();a.xp6(2),a.Q6J("user",null==t||null==t.appData||null==t.appData.data?null:t.appData.data.user),a.xp6(6),a.Q6J("routerLink",a.DdM(133,K)),a.xp6(5),a.AsE("",null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.firstName," ",null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.lastName,""),a.xp6(6),a.Q6J("src",null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.imageUrl,a.LSH),a.xp6(3),a.AsE("",null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.firstName," ",null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.lastName,""),a.xp6(2),a.hij("Since ",a.xi3(25,60,null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.createdAt,"MMMM d, y"),""),a.xp6(24),a.Q6J("ngModel",null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.id),a.xp6(6),a.Q6J("ngModel",null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.firstName)("disabled","ROLE_USER"===(null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.roleName)||a.lcZ(55,63,e.isLoading$)||a.lcZ(56,65,e.isLoading$)),a.xp6(7),a.Q6J("ngModel",null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.lastName)("disabled","ROLE_USER"===(null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.roleName)||a.lcZ(62,67,e.isLoading$)),a.xp6(6),a.Q6J("ngModel",null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.email)("disabled","ROLE_USER"===(null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.roleName)||a.lcZ(68,69,e.isLoading$)),a.xp6(6),a.Q6J("ngModel",null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.phone)("disabled","ROLE_USER"===(null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.roleName)||a.lcZ(74,71,e.isLoading$)),a.xp6(6),a.Q6J("ngModel",null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.address)("disabled","ROLE_USER"===(null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.roleName)||a.lcZ(80,73,e.isLoading$)),a.xp6(6),a.Q6J("ngModel",null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.title)("disabled","ROLE_USER"===(null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.roleName)||a.lcZ(86,75,e.isLoading$)),a.xp6(6),a.Q6J("ngModel",null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.bio)("disabled","ROLE_USER"===(null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.roleName)||a.lcZ(92,77,e.isLoading$)),a.xp6(3),a.Q6J("disabled","ROLE_USER"===(null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.roleName)||a.lcZ(95,79,e.isLoading$)),a.xp6(2),a.Q6J("ngIf",a.lcZ(97,81,e.isLoading$)),a.xp6(2),a.Q6J("ngIf",a.lcZ(99,83,e.isLoading$)),a.xp6(2),a.Q6J("ngIf",!a.lcZ(101,85,e.isLoading$)),a.xp6(12),a.Q6J("disabled",a.lcZ(113,87,e.isLoading$)),a.xp6(7),a.Q6J("disabled",a.lcZ(120,89,e.isLoading$)),a.xp6(6),a.Q6J("disabled",a.lcZ(126,91,e.isLoading$)),a.xp6(3),a.Q6J("disabled",u.invalid||a.lcZ(129,93,e.isLoading$)),a.xp6(2),a.Q6J("ngIf",a.lcZ(131,95,e.isLoading$)),a.xp6(2),a.Q6J("ngIf",a.lcZ(133,97,e.isLoading$)),a.xp6(2),a.Q6J("ngIf",!a.lcZ(135,99,e.isLoading$)),a.xp6(12),a.Q6J("ngModel",null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.roleName)("disabled",!("ROLE_SYSADMIN"===(null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.roleName)||"ROLE_ADMIN"===(null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.roleName))||a.lcZ(147,101,e.isLoading$)),a.xp6(2),a.Q6J("ngForOf",null==t||null==t.appData||null==t.appData.data?null:t.appData.data.roles),a.xp6(5),a.Q6J("ngForOf",null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.permissions.split(",")),a.xp6(2),a.Q6J("disabled",!("ROLE_SYSADMIN"===(null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.roleName)||"ROLE_ADMIN"===(null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.roleName))||a.lcZ(156,103,e.isLoading$)),a.xp6(2),a.Q6J("ngIf",a.lcZ(158,105,e.isLoading$)),a.xp6(2),a.Q6J("ngIf",a.lcZ(160,107,e.isLoading$)),a.xp6(2),a.Q6J("ngIf",!a.lcZ(162,109,e.isLoading$)),a.xp6(12),a.Q6J("disabled",!("ROLE_SYSADMIN"===(null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.roleName)||"ROLE_ADMIN"===(null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.roleName))||a.lcZ(174,111,e.isLoading$))("checked",null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.enabled)("ngModel",null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.enabled),a.xp6(5),a.Q6J("disabled",!("ROLE_SYSADMIN"===(null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.roleName)||"ROLE_ADMIN"===(null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.roleName))||a.lcZ(179,113,e.isLoading$))("checked",null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.notLocked)("ngModel",null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.notLocked),a.xp6(5),a.Q6J("disabled",!("ROLE_SYSADMIN"===(null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.roleName)||"ROLE_ADMIN"===(null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.roleName))||a.lcZ(184,115,e.isLoading$)),a.xp6(2),a.Q6J("ngIf",a.lcZ(186,117,e.isLoading$)),a.xp6(2),a.Q6J("ngIf",a.lcZ(188,119,e.isLoading$)),a.xp6(2),a.Q6J("ngIf",!a.lcZ(190,121,e.isLoading$)),a.xp6(13),a.Q6J("ngIf",null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.usingMfa),a.xp6(1),a.Q6J("ngIf",!(null!=t&&null!=t.appData&&null!=t.appData.data&&null!=t.appData.data.user&&t.appData.data.user.usingMfa)),a.xp6(4),a.Q6J("disabled","ROLE_USER"===(null==t||null==t.appData||null==t.appData.data||null==t.appData.data.user?null:t.appData.data.user.roleName)||a.lcZ(208,123,e.isLoading$)),a.xp6(2),a.hij(" ",null!=t&&null!=t.appData&&null!=t.appData.data&&null!=t.appData.data.user&&t.appData.data.user.usingMfa?"Disable":"Enable"," "),a.xp6(1),a.Q6J("ngIf",a.lcZ(211,125,e.isLoading$)),a.xp6(11),a.Q6J("disabled",a.lcZ(222,127,e.isLoading$))("checked",a.lcZ(223,129,e.showLogs$)),a.xp6(4),a.Q6J("ngIf",a.lcZ(226,131,e.showLogs$))}}class b{constructor(l){this.userService=l,this.dataSubject=new Z.X(null),this.isLoadingSubject=new Z.X(!1),this.isLoading$=this.isLoadingSubject.asObservable(),this.showLogsSubject=new Z.X(!1),this.showLogs$=this.showLogsSubject.asObservable(),this.DataState=i.a,this.EventType=f}ngOnInit(){this.profileState$=this.userService.profile$().pipe((0,d.U)(l=>(console.log(l),this.dataSubject.next(l),{dataState:i.a.LOADED,appData:l})),(0,r.O)({dataState:i.a.LOADING}),(0,c.K)(l=>(0,g.of)({dataState:i.a.ERROR,appData:this.dataSubject.value,error:l})))}updateProfile(l){this.isLoadingSubject.next(!0),this.profileState$=this.userService.update$(l.value).pipe((0,d.U)(t=>(console.log(t),this.dataSubject.next({...t,data:t.data}),this.isLoadingSubject.next(!1),{dataState:i.a.LOADED,appData:this.dataSubject.value})),(0,r.O)({dataState:i.a.LOADED,appData:this.dataSubject.value}),(0,c.K)(t=>(this.isLoadingSubject.next(!1),(0,g.of)({dataState:i.a.LOADED,appData:this.dataSubject.value,error:t}))))}updatePassword(l){this.isLoadingSubject.next(!0),l.value.newPassword===l.value.confirmNewPassword?this.profileState$=this.userService.updatePassword$(l.value).pipe((0,d.U)(t=>(console.log(t),this.dataSubject.next({...t,data:t.data}),l.reset(),this.isLoadingSubject.next(!1),{dataState:i.a.LOADED,appData:this.dataSubject.value})),(0,r.O)({dataState:i.a.LOADED,appData:this.dataSubject.value}),(0,c.K)(t=>(l.reset(),this.isLoadingSubject.next(!1),(0,g.of)({dataState:i.a.LOADED,appData:this.dataSubject.value,error:t})))):(l.reset(),this.isLoadingSubject.next(!1))}updateRole(l){this.isLoadingSubject.next(!0),this.profileState$=this.userService.updateRoles$(l.value.roleName).pipe((0,d.U)(t=>(console.log(t),this.dataSubject.next({...t,data:t.data}),this.isLoadingSubject.next(!1),{dataState:i.a.LOADED,appData:this.dataSubject.value})),(0,r.O)({dataState:i.a.LOADED,appData:this.dataSubject.value}),(0,c.K)(t=>(this.isLoadingSubject.next(!1),(0,g.of)({dataState:i.a.LOADED,appData:this.dataSubject.value,error:t}))))}updateAccountSettings(l){this.isLoadingSubject.next(!0),this.profileState$=this.userService.updateAccountSettings$(l.value).pipe((0,d.U)(t=>(console.log(t),this.dataSubject.next({...t,data:t.data}),this.isLoadingSubject.next(!1),{dataState:i.a.LOADED,appData:this.dataSubject.value})),(0,r.O)({dataState:i.a.LOADED,appData:this.dataSubject.value}),(0,c.K)(t=>(this.isLoadingSubject.next(!1),(0,g.of)({dataState:i.a.LOADED,appData:this.dataSubject.value,error:t}))))}toggleMfa(){this.isLoadingSubject.next(!0),this.profileState$=this.userService.toggleMfa$().pipe((0,d.U)(l=>(console.log(l),this.dataSubject.next({...l,data:l.data}),this.isLoadingSubject.next(!1),{dataState:i.a.LOADED,appData:this.dataSubject.value})),(0,r.O)({dataState:i.a.LOADED,appData:this.dataSubject.value}),(0,c.K)(l=>(this.isLoadingSubject.next(!1),(0,g.of)({dataState:i.a.LOADED,appData:this.dataSubject.value,error:l}))))}updatePicture(l){l&&(this.isLoadingSubject.next(!0),this.profileState$=this.userService.updateImage$(this.getFormData(l)).pipe((0,d.U)(t=>(console.log(t),this.dataSubject.next({...t,data:{...t.data,user:{...t.data.user,imageUrl:`${t.data.user.imageUrl}?time=${(new Date).getTime()}`}}}),this.isLoadingSubject.next(!1),{dataState:i.a.LOADED,appData:this.dataSubject.value})),(0,r.O)({dataState:i.a.LOADED,appData:this.dataSubject.value}),(0,c.K)(t=>(this.isLoadingSubject.next(!1),(0,g.of)({dataState:i.a.LOADED,appData:this.dataSubject.value,error:t})))))}toggleLogs(){this.showLogsSubject.next(!this.showLogsSubject.value)}getFormData(l){const t=new FormData;return t.append("image",l),t}}b.\u0275fac=function(l){return new(l||b)(a.Y36(x.K))},b.\u0275cmp=a.Xpm({type:b,selectors:[["app-profile"]],decls:5,vars:3,consts:[[4,"ngIf"],["enctype","multipart/form-data",2,"display","none"],["type","file","name","image","id","image","placeholder","file","ngModel","","accept","image/*",3,"change"],["fileInput",""],[3,"user"],[1,"container"],["aria-label","breadcrumb",2,"margin-top","8px"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],["aria-current","page",1,"breadcrumb-item","active"],[1,"bg-white","shadow","rounded-lg","d-block","d-sm-flex",2,"border-radius","8px"],[1,"profile-tab-nav","border-right"],[1,"p-4"],[1,"img-circle","text-center","mb-3"],[2,"position","relative"],["alt","John",1,"shadow",3,"src"],[1,"bi","bi-camera-fill","right-position",3,"click"],[1,"text-center"],[1,""],["id","v-pills-tab","role","tablist","aria-orientation","vertical",1,"nav","flex-column","nav-pills"],["id","profile","data-bs-toggle","pill","data-bs-target","#profile-tab","aria-selected","true","aria-controls","profile","role","tab",1,"nav-link","active"],[1,"bi","bi-person-circle",2,"margin-right","12px"],["id","password","data-bs-toggle","pill","data-bs-target","#password-tab","aria-selected","true","aria-controls","password","role","tab",1,"nav-link"],[1,"bi","bi-key-fill",2,"margin-right","12px"],["id","security","data-bs-toggle","pill","data-bs-target","#security-tab","aria-selected","true","aria-controls","security","role","tab",1,"nav-link"],[1,"bi","bi-shield-shaded",2,"margin-right","12px"],["id","application","data-bs-toggle","pill","data-bs-target","#application-tab","aria-selected","true","aria-controls","application","role","tab",1,"nav-link"],[1,"bi","bi-gear",2,"margin-right","12px"],["id","notification","data-bs-toggle","pill","data-bs-target","#notification-tab","aria-selected","true","aria-controls","notification","role","tab",1,"nav-link"],[1,"bi","bi-lock-fill",2,"margin-right","12px"],["id","v-pills-tabContent",1,"tab-content","p-4","p-md-5",2,"border-left","1px solid #d4d0d0"],["id","profile-tab","role","tabpanel","aria-labelledby","profile",1,"tab-pane","fade","show","active",2,"min-height","510px"],[1,"mb-4"],[3,"ngSubmit"],["profileForm","ngForm"],["type","hidden","name","id",3,"ngModel"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["type","text","name","firstName",1,"form-control",3,"ngModel","disabled"],["type","text","name","lastName",1,"form-control",3,"ngModel","disabled"],["for","email"],["type","text","name","email",1,"form-control",3,"ngModel","disabled"],["type","text","name","phone",1,"form-control",3,"ngModel","disabled"],["type","text","name","address",1,"form-control",3,"ngModel","disabled"],["type","text","name","title",1,"form-control",3,"ngModel","disabled"],[1,"col-md-12"],["name","bio","rows","4",1,"form-control",3,"ngModel","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true","style","margin-right: 5px;",4,"ngIf"],["id","password-tab","role","tabpanel","aria-labelledby","password",1,"tab-pane","fade",2,"min-height","510px"],["passwordForm","ngForm"],["type","password","name","currentPassword","ngModel","","required","",1,"form-control",3,"disabled"],["type","password","name","newPassword","ngModel","","minlength","5","required","",1,"form-control",3,"disabled"],["type","password","name","confirmNewPassword","ngModel","","minlength","5","required","",1,"form-control",3,"disabled"],["id","security-tab","role","tabpanel","aria-labelledby","security",1,"tab-pane","fade",2,"min-height","510px"],["roleForm","ngForm"],[2,"margin-bottom","5px"],["name","roleName","required","",1,"form-control","select-cl",3,"ngModel","disabled"],["class","select-cl",3,"selected","disabled","ngValue",4,"ngFor","ngForOf"],["type","text","class","form-control","style","margin-bottom: 5px;",3,"value","disabled",4,"ngFor","ngForOf"],["id","application-tab","role","tabpanel","aria-labelledby","application",1,"tab-pane","fade",2,"min-height","510px"],["settingsForm","ngForm"],["type","hidden","name","userId"],[1,"form-check"],["type","checkbox","name","enabled",1,"form-check-input",3,"disabled","checked","ngModel"],["for","enabled",1,"form-check-label"],["type","checkbox","name","notLocked",1,"form-check-input",3,"disabled","checked","ngModel"],["for","notLocked",1,"form-check-label"],["id","notification-tab","role","tabpanel","aria-labelledby","notification",1,"tab-pane","fade",2,"min-height","510px"],[1,"list-group","mb-5","shadow"],[1,"list-group-item"],[1,"row","align-items-center"],[1,"col"],[1,"mb-2"],["class","badge bg-success mx-3",4,"ngIf"],["class","badge bg-warning mx-3",4,"ngIf"],[1,"text-muted","mb-0"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"custom-control","custom-switch"],["type","checkbox","id","activityLog",1,"custom-control-input",3,"disabled","checked","change"],[1,"custom-control-label"],["class","row",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm",2,"margin-right","5px"],[1,"select-cl",3,"selected","disabled","ngValue"],["type","text",1,"form-control",2,"margin-bottom","5px",3,"value","disabled"],[1,"badge","bg-success","mx-3"],[1,"badge","bg-warning","mx-3"],[1,"col-xl-12","mt-4"],[1,"card",2,"border-radius","8px"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"badge","pill",3,"ngClass"]],template:function(l,t){1&l&&(a.YNc(0,H,227,134,"ng-container",0),a.ALo(1,"async"),a.TgZ(2,"form",1)(3,"input",2,3),a.NdJ("change",function(e){return t.updatePicture(e.target.files[0])}),a.qZA()()),2&l&&a.Q6J("ngIf",a.lcZ(1,1,t.profileState$))},dependencies:[A.rH,m.mk,m.sg,m.O5,o._Y,o.YN,o.Kr,o.Fj,o.Wl,o.EJ,o.JJ,o.JL,o.Q7,o.wO,o.On,o.F,T.S,m.Ov,m.uU],styles:["a.nav-link[_ngcontent-%COMP%]{cursor:pointer}a#profile.nav-link.active[_ngcontent-%COMP%], a#password.nav-link.active[_ngcontent-%COMP%], a#security.nav-link.active[_ngcontent-%COMP%], a#application.nav-link.active[_ngcontent-%COMP%], a#notification.nav-link.active[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.shadow[_ngcontent-%COMP%]{box-shadow:0 2px 10px #0000001a!important}.profile-tab-nav[_ngcontent-%COMP%]{min-width:250px}.tab-content[_ngcontent-%COMP%]{flex:1}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.nav-pills[_ngcontent-%COMP%]   a.nav-link[_ngcontent-%COMP%]{padding:15px 20px;border-bottom:1px solid #ddd;border-radius:0;color:#333}.nav-pills[_ngcontent-%COMP%]   a.nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:20px}.img-circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;width:100px;border-radius:100%;border:5px solid #fff}.right-position[_ngcontent-%COMP%]{position:absolute;bottom:30px;color:#0d5efd;left:70px;top:35px;border-radius:4px;font-size:23px;cursor:pointer}.unclickable[_ngcontent-%COMP%]{pointer-events:none;background:#F5F5F5}"],changeDetection:0});const B=[{path:"",children:[{path:"",component:b,canActivate:[U.Q]}]}];class _{}_.\u0275fac=function(l){return new(l||_)},_.\u0275mod=a.oAB({type:_}),_.\u0275inj=a.cJS({imports:[A.Bz.forChild(B),A.Bz]});class D{}D.\u0275fac=function(l){return new(l||D)},D.\u0275mod=a.oAB({type:D}),D.\u0275inj=a.cJS({imports:[L.m,_,v.R]})}}]);